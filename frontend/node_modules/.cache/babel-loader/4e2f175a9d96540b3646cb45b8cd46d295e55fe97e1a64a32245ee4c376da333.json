{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DoctorAppointmentPage=()=>{const[doctors,setDoctors]=useState([]);const[selectedDoctorId,setSelectedDoctorId]=useState('');const[date,setDate]=useState('');const[time,setTime]=useState('');const[symptoms,setSymptoms]=useState('');const[patientName,setPatientName]=useState('');const[email,setEmail]=useState('');const[countryCode,setCountryCode]=useState('+254');const[phone,setPhone]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{axios.get('http://localhost:5000/api/doctors').then(res=>{setDoctors(res.data);setLoading(false);}).catch(err=>{console.error('Error fetching doctors:',err);setLoading(false);});},[]);const handleSubmit=async e=>{e.preventDefault();if(!selectedDoctorId||!date||!time||!patientName||!email||!phone){alert('Please fill in all required fields.');return;}try{await axios.post('http://localhost:5000/api/appointments',{doctorId:selectedDoctorId,patientName,email,phone:\"\".concat(countryCode).concat(phone),slot:\"\".concat(date,\"T\").concat(time),reason:symptoms});alert('Appointment booked successfully!');setSelectedDoctorId('');setDate('');setTime('');setSymptoms('');setPatientName('');setEmail('');setPhone('');setCountryCode('+254');}catch(err){console.error('Booking error:',err);alert('Failed to book appointment.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"appointment-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book a Doctor Appointment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Choose Doctor:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDoctorId,onChange:e=>setSelectedDoctorId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a doctor\"}),loading?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"Loading doctors...\"}):doctors.map(doc=>/*#__PURE__*/_jsxs(\"option\",{value:doc._id,children:[doc.name,\" \\u2014 \",doc.specialty]},doc._id))]}),/*#__PURE__*/_jsx(\"label\",{children:\"Your Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:patientName,onChange:e=>setPatientName(e.target.value),placeholder:\"Enter your name\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter your email\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"select\",{value:countryCode,onChange:e=>setCountryCode(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"+254\",children:\"\\uD83C\\uDDF0\\uD83C\\uDDEA +254\"}),/*#__PURE__*/_jsx(\"option\",{value:\"+1\",children:\"\\uD83C\\uDDFA\\uD83C\\uDDF8 +1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"+44\",children:\"\\uD83C\\uDDEC\\uD83C\\uDDE7 +44\"}),/*#__PURE__*/_jsx(\"option\",{value:\"+91\",children:\"\\uD83C\\uDDEE\\uD83C\\uDDF3 +91\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:phone,onChange:e=>setPhone(e.target.value),placeholder:\"Enter phone number\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Time:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:time,onChange:e=>setTime(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Reason for Visit:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:symptoms,onChange:e=>setSymptoms(e.target.value),placeholder:\"Describe your symptoms or reason...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Book Appointment\"})]})]});};export default DoctorAppointmentPage;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","DoctorAppointmentPage","doctors","setDoctors","selectedDoctorId","setSelectedDoctorId","date","setDate","time","setTime","symptoms","setSymptoms","patientName","setPatientName","email","setEmail","countryCode","setCountryCode","phone","setPhone","loading","setLoading","get","then","res","data","catch","err","console","error","handleSubmit","e","preventDefault","alert","post","doctorId","concat","slot","reason","className","children","onSubmit","value","onChange","target","disabled","map","doc","_id","name","specialty","type","placeholder","style","display","gap"],"sources":["C:/Users/Administrator/Desktop/MediReach Final Project/frontend/src/pages/DoctorAppointmentPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst DoctorAppointmentPage = () => {\r\n  const [doctors, setDoctors] = useState([]);\r\n  const [selectedDoctorId, setSelectedDoctorId] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [time, setTime] = useState('');\r\n  const [symptoms, setSymptoms] = useState('');\r\n  const [patientName, setPatientName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [countryCode, setCountryCode] = useState('+254');\r\n  const [phone, setPhone] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:5000/api/doctors')\r\n      .then(res => {\r\n        setDoctors(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error fetching doctors:', err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!selectedDoctorId || !date || !time || !patientName || !email || !phone) {\r\n      alert('Please fill in all required fields.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post('http://localhost:5000/api/appointments', {\r\n        doctorId: selectedDoctorId,\r\n        patientName,\r\n        email,\r\n        phone: `${countryCode}${phone}`,\r\n        slot: `${date}T${time}`,\r\n        reason: symptoms\r\n      });\r\n\r\n      alert('Appointment booked successfully!');\r\n      setSelectedDoctorId('');\r\n      setDate('');\r\n      setTime('');\r\n      setSymptoms('');\r\n      setPatientName('');\r\n      setEmail('');\r\n      setPhone('');\r\n      setCountryCode('+254');\r\n    } catch (err) {\r\n      console.error('Booking error:', err);\r\n      alert('Failed to book appointment.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"appointment-page\">\r\n      <h2>Book a Doctor Appointment</h2>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Choose Doctor:</label>\r\n        <select value={selectedDoctorId} onChange={(e) => setSelectedDoctorId(e.target.value)}>\r\n          <option value=\"\">Select a doctor</option>\r\n          {loading ? (\r\n            <option disabled>Loading doctors...</option>\r\n          ) : (\r\n            doctors.map(doc => (\r\n              <option key={doc._id} value={doc._id}>\r\n                {doc.name} â€” {doc.specialty}\r\n              </option>\r\n            ))\r\n          )}\r\n        </select>\r\n\r\n        <label>Your Name:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={patientName}\r\n          onChange={(e) => setPatientName(e.target.value)}\r\n          placeholder=\"Enter your name\"\r\n        />\r\n\r\n        <label>Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          placeholder=\"Enter your email\"\r\n        />\r\n\r\n        <label>Phone Number:</label>\r\n        <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n          <select value={countryCode} onChange={(e) => setCountryCode(e.target.value)}>\r\n            <option value=\"+254\">ðŸ‡°ðŸ‡ª +254</option>\r\n            <option value=\"+1\">ðŸ‡ºðŸ‡¸ +1</option>\r\n            <option value=\"+44\">ðŸ‡¬ðŸ‡§ +44</option>\r\n            <option value=\"+91\">ðŸ‡®ðŸ‡³ +91</option>\r\n          </select>\r\n          <input\r\n            type=\"tel\"\r\n            value={phone}\r\n            onChange={(e) => setPhone(e.target.value)}\r\n            placeholder=\"Enter phone number\"\r\n          />\r\n        </div>\r\n\r\n        <label>Date:</label>\r\n        <input type=\"date\" value={date} onChange={(e) => setDate(e.target.value)} />\r\n\r\n        <label>Time:</label>\r\n        <input type=\"time\" value={time} onChange={(e) => setTime(e.target.value)} />\r\n\r\n        <label>Reason for Visit:</label>\r\n        <textarea\r\n          value={symptoms}\r\n          onChange={(e) => setSymptoms(e.target.value)}\r\n          placeholder=\"Describe your symptoms or reason...\"\r\n        />\r\n\r\n        <button type=\"submit\">Book Appointment</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoctorAppointmentPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}