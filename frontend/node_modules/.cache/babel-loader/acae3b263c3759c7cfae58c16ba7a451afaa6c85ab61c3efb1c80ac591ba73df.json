{"ast":null,"code":"import React,{useState,useEffect}from'react';import socket from'../socket';// adjust path if needed\nimport'../styles/ChatBox.css';// optional styling\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function ChatBox(_ref){let{roomId,sender}=_ref;const[messages,setMessages]=useState([]);const[input,setInput]=useState('');useEffect(()=>{// Join the chat room\nsocket.emit('joinRoom',roomId);// Listen for incoming messages\nsocket.on('receiveMessage',msg=>{setMessages(prev=>[...prev,msg]);});// Cleanup on unmount\nreturn()=>{socket.off('receiveMessage');};},[roomId]);const sendMessage=()=>{if(input.trim()){socket.emit('sendMessage',{roomId,sender,message:input});setInput('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-messages\",children:messages.map((msg,i)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.sender,\":\"]}),\" \",msg.message]},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:e=>setInput(e.target.value),placeholder:\"Type your message...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","socket","jsxs","_jsxs","jsx","_jsx","ChatBox","_ref","roomId","sender","messages","setMessages","input","setInput","emit","on","msg","prev","off","sendMessage","trim","message","className","children","map","i","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/Administrator/Desktop/MediReach Final Project/frontend/src/components/ChatBox.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport socket from '../socket'; // adjust path if needed\r\nimport '../styles/ChatBox.css'; // optional styling\r\n\r\nexport default function ChatBox({ roomId, sender }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Join the chat room\r\n    socket.emit('joinRoom', roomId);\r\n\r\n    // Listen for incoming messages\r\n    socket.on('receiveMessage', (msg) => {\r\n      setMessages((prev) => [...prev, msg]);\r\n    });\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      socket.off('receiveMessage');\r\n    };\r\n  }, [roomId]);\r\n\r\n  const sendMessage = () => {\r\n    if (input.trim()) {\r\n      socket.emit('sendMessage', {\r\n        roomId,\r\n        sender,\r\n        message: input,\r\n      });\r\n      setInput('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-box\">\r\n      <div className=\"chat-messages\">\r\n        {messages.map((msg, i) => (\r\n          <div key={i}>\r\n            <strong>{msg.sender}:</strong> {msg.message}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"chat-input\">\r\n        <input\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Type your message...\"\r\n        />\r\n        <button onClick={sendMessage}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,WAAW,CAAE;AAChC,MAAO,uBAAuB,CAAE;AAAA,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhC,cAAe,SAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAqB,IAApB,CAAEC,MAAM,CAAEC,MAAO,CAAC,CAAAF,IAAA,CAChD,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd;AACAC,MAAM,CAACa,IAAI,CAAC,UAAU,CAAEN,MAAM,CAAC,CAE/B;AACAP,MAAM,CAACc,EAAE,CAAC,gBAAgB,CAAGC,GAAG,EAAK,CACnCL,WAAW,CAAEM,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAED,GAAG,CAAC,CAAC,CACvC,CAAC,CAAC,CAEF;AACA,MAAO,IAAM,CACXf,MAAM,CAACiB,GAAG,CAAC,gBAAgB,CAAC,CAC9B,CAAC,CACH,CAAC,CAAE,CAACV,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAW,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAIP,KAAK,CAACQ,IAAI,CAAC,CAAC,CAAE,CAChBnB,MAAM,CAACa,IAAI,CAAC,aAAa,CAAE,CACzBN,MAAM,CACNC,MAAM,CACNY,OAAO,CAAET,KACX,CAAC,CAAC,CACFC,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAED,mBACEV,KAAA,QAAKmB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlB,IAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3Bb,QAAQ,CAACc,GAAG,CAAC,CAACR,GAAG,CAAES,CAAC,gBACnBtB,KAAA,QAAAoB,QAAA,eACEpB,KAAA,WAAAoB,QAAA,EAASP,GAAG,CAACP,MAAM,CAAC,GAAC,EAAQ,CAAC,IAAC,CAACO,GAAG,CAACK,OAAO,GADnCI,CAEL,CACN,CAAC,CACC,CAAC,cACNtB,KAAA,QAAKmB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlB,IAAA,UACEqB,KAAK,CAAEd,KAAM,CACbe,QAAQ,CAAGC,CAAC,EAAKf,QAAQ,CAACe,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC1CI,WAAW,CAAC,sBAAsB,CACnC,CAAC,cACFzB,IAAA,WAAQ0B,OAAO,CAAEZ,WAAY,CAAAI,QAAA,CAAC,MAAI,CAAQ,CAAC,EACxC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}